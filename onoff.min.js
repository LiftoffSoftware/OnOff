var OnOff=function(){if(!(this instanceof OnOff))return new OnOff;var c=this;c.callbacks={},c.on=function(n,t,a,l){return n.split(/\s+/).forEach(function(n){var o=c.callbacks[n],e={callback:t,context:a,times:l};o||(o=c.callbacks[n]=[]),o.push(e)}),c},c.off=function(n,t,a){return void 0===n?(c.callbacks={},c):(n.split(/\s+/).forEach(function(n){var l=c.callbacks[n];!t&&l?delete c.callbacks[n]:t&&l&&l.forEach(function(l){l.callback==t&&(void 0===a||l.context==a)&&delete c.callbacks[n]})}),c)},c.once=function(n,t,a){return c.on(n,t,a,1),c},c.trigger=function(n){var t=Array.prototype.slice.call(arguments,1);return n.split(/\s+/).forEach(function(a){var l=c.callbacks[a];l&&l.forEach(function(a){a.times&&(a.times-=1,0==a.times&&c.off(n,a.callback,a.context)),a.callback.apply(a.context||this,t)})}),c}};"undefined"!=typeof module&&"exports"in module&&(module.exports=OnOff);